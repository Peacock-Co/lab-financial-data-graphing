<!DOCTYPE html>
<html>

<head>
  <title> {{title}} </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
</head>

<body>
  <h1> {{title}} </h1>
  <p>Welcome to {{title}} </p>
  <canvas id="myChart" width="400" height="400"></canvas>


  <script>

    printTheChart();

    function printTheChart() {

      const apiUrl = `https://api.coindesk.com/v1/bpi/currentprice.json`;

      axios
        .get(apiUrl)
        .then(res => {
          console.log(res)
        })

        .catch(err => console.log("Error while getting the data: ", err));

      const ctx = document.getElementById('myChart').getContext('2d');

      const myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: [],
          datasets: [{
            label: 'Bitcoins Price Index',
            data: [20, 10],
            backgroundColor: ['rgba(255, 99, 132, 0.2)'],
            borderColor: ['rgba(255, 99, 132, 1)'],
            borderWidth: 1
          }]
        }
      });
    }
  </script>

</body>
<script src="/javascripts/financial-data.js" charset="utf-8"></script>

</html>